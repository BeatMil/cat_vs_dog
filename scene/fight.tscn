[gd_scene load_steps=9 format=2]

[ext_resource path="res://media/cat/cat.png" type="Texture" id=1]
[ext_resource path="res://prefabs/dog.tscn" type="PackedScene" id=2]
[ext_resource path="res://script/fight.gd" type="Script" id=3]
[ext_resource path="res://script/p1.gd" type="Script" id=4]
[ext_resource path="res://prefabs/normal_attack.tscn" type="PackedScene" id=5]

[sub_resource type="DynamicFont" id=3]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 10, 95.9996 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 1008, 10 )

[node name="fight" type="Node2D"]
script = ExtResource( 3 )

[node name="P1" type="Node2D" parent="."]

[node name="hp_bar" type="ProgressBar" parent="P1"]
margin_top = 16.0001
margin_right = 624.0
margin_bottom = 64.0001
custom_fonts/font = SubResource( 3 )
max_value = 10.0
step = 1.0
value = 10.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="p1" type="KinematicBody2D" parent="P1"]
position = Vector2( 192, 464 )
rotation = 0.00286608
script = ExtResource( 4 )
__meta__ = {
"_edit_group_": true
}

[node name="dog" parent="P1/p1" instance=ExtResource( 2 )]
scale = Vector2( 0.5, 0.5 )

[node name="ftime" type="Timer" parent="P1/p1"]
wait_time = 0.2
one_shot = true

[node name="dtime" type="Timer" parent="P1/p1"]
wait_time = 0.1
one_shot = true

[node name="vi_up" type="VisibilityNotifier2D" parent="P1/p1"]
position = Vector2( -0.275146, -95.9996 )

[node name="vi_down" type="VisibilityNotifier2D" parent="P1/p1"]
position = Vector2( 0.366852, 127.999 )

[node name="shape" type="CollisionShape2D" parent="P1/p1"]
position = Vector2( -127.954, 16.3668 )
shape = SubResource( 1 )

[node name="atk_timer" type="Timer" parent="P1/p1"]
wait_time = 0.2

[node name="p2" type="Node2D" parent="."]
position = Vector2( 1696, 496 )
__meta__ = {
"_edit_group_": true
}

[node name="cat" type="Sprite" parent="p2"]
scale = Vector2( 0.5, 0.53125 )
texture = ExtResource( 1 )
flip_h = true

[node name="upper_barricade" type="StaticBody2D" parent="."]
position = Vector2( 336, 0 )
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="upper_barricade"]
position = Vector2( 624, 0 )
shape = SubResource( 2 )

[node name="lower_barricade" type="StaticBody2D" parent="."]
position = Vector2( 960, 1072 )
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="lower_barricade"]
shape = SubResource( 2 )

[node name="normal_attack" parent="." instance=ExtResource( 5 )]
position = Vector2( 1392, 512 )
direction = -1
[connection signal="timeout" from="P1/p1/ftime" to="P1/p1" method="_on_frame_window_timeout"]
[connection signal="timeout" from="P1/p1/dtime" to="P1/p1" method="_on_dtime_timeout"]
[connection signal="screen_exited" from="P1/p1/vi_up" to="P1/p1" method="_on_VisibilityNotifier2D_screen_exited"]
[connection signal="screen_exited" from="P1/p1/vi_down" to="P1/p1" method="_on_vi_down_screen_exited"]
[connection signal="timeout" from="P1/p1/atk_timer" to="P1/p1" method="_on_atk_timer_timeout"]
